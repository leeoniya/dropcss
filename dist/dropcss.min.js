/*! https://github.com/leeoniya/dropcss (v1.0.5) */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).dropcss=n()}(this,function(){"use strict";var e=1,n=2,t=3,r=new Set("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),a=new RegExp("<!doctype[^>]*>|\x3c!--[\\s\\S]*?--\x3e|<script[^>]*>[\\s\\S]*?<\\/script>|<style[^>]*>[\\s\\S]*?<\\/style>|<link[^>]*>|<meta[^>]*>","gmi"),s=new RegExp("([\\w-]+)(?:=\"([^\"]*)\"|='([^']*)'|=(S+))?","gm"),i={TAG_HEAD:new RegExp("\\s*<([a-z0-9_-]+)(?:\\s*([^>]*))?>\\s*","imy"),TEXT:new RegExp("\\s*[^<]*","my"),TAG_CLOSE:new RegExp("\\s*<\\/[a-z0-9_-]+>\\s*","imy")};var c=new Set;function o(e,n,t){return{tagName:n,attributes:t,classList:null!=t&&t.has("class")?new Set(t.get("class").split(/\s+/g)):c,parentNode:e,childNodes:[]}}function u(e,n){if(null!=e){var t=e._ofTypes=e._ofTypes||{};if(!(n in t)){var r=0;t[n]=e.childNodes.filter(function(e){if(e.tagName==n)return e._typeIdx=r++,!0})}return t[n]}return[]}var l=function(u){var l=function(a){var c,o=0,u=[];function l(e){for(var n in o=e.lastIndex,i)i[n].lastIndex=o}function d(){if(null!=(c=i.TAG_CLOSE.exec(a)))return l(i.TAG_CLOSE),void u.push(t);if(null==(c=i.TAG_HEAD.exec(a)))null!=(c=i.TEXT.exec(a))&&l(i.TEXT);else{l(i.TAG_HEAD);var o=c[1];u.push(e,o);var d=c[2];if(null!=d){for(var f,p=new Map;f=s.exec(d);)p.set(f[1],(f[2]||f[3]||f[4]||"").trim());u.push(n,p)}r.has(o)&&u.push(t)}}for(;o<a.length;)d();return l({lastIndex:0}),u}(u=u.replace(a,"")),d={nodes:[],tag:new Set(["*"]),class:new Set,attr:new Set};!function(r,a){for(var s,i=o(null,"root",c),u=0;u<r.length;u++)switch(r[u]){case e:var l=r[++u],d=c;r[u+1]===n&&(d=r[u+=2]),s=i.childNodes.length,i.childNodes.push(i=o(i,l,d)),a(i,s);break;case t:i=i.parentNode}}(l,function(e,n){return function(e,n,t){e.idx=n;var r=e.attributes;t.tag.add(e.tagName),e.classList.forEach(function(e){return t.class.add(e)}),r.has("id")&&t.attr.add("[id="+r.get("id")+"]"),r.has("type")&&t.attr.add("[type="+r.get("type")+"]"),t.nodes.push(e)}(e,n,d)});return d},d=new RegExp("\\s*\\/\\*[\\s\\S]*?\\*\\/\\s*","gm"),f=new RegExp("\\s*[>~+.#]\\s*|\\[[^\\]]+\\]|\\s+","gm"),p=1,h=2,x=3,g=4,v=5;function m(e){var n=e.split(new RegExp("\\s*,\\s*","gm"));return n.push(n.map(function(e){return function(e){for(var n=e.length;(e=e.replace(E,"")).length!=n;)n=e.length;return e.replace(new RegExp(":?:[a-z-]+","gm"),"")}(e).trim().replace(f,function(e,n){return e=e.trim(),0==n?e:"."==e||"#"==e?"`"+e:e.length<=1?"`":"`"+e.replace(new RegExp("['\"]","gm"),"")}).split(new RegExp("`+"),"gm")})),n}var E=/:[a-z-]+\([^()]*\)/;function w(e,n,t,r){for(var a="",s=1;e[n]==t?s++:e[n]==r&&s--,0!=s;)a+=e[n++];return a}function y(e){return function(e){var n,t={RULE_HEAD:new RegExp("\\s*([^{;]+?)\\s*[{;]\\s*","my"),RULE_TAIL:new RegExp("\\s*([^}]*?)\\s*\\}","my"),AT_TAIL:new RegExp("\\s*\\}","my"),RULE_FULL:new RegExp("\\s*([^{]*?)\\{([^}]+?)\\}","my")},r=0,a=0,s=[];function i(e){for(var n in a=e.lastIndex,t)t[n].lastIndex=a}function c(){if(r>0&&null!=(n=t.AT_TAIL.exec(e)))return r--,s.push(h),void i(t.AT_TAIL);if(null!=(n=t.RULE_HEAD.exec(e))){var c=n[1];if(i(t.RULE_HEAD),"@"==c[0])switch(c.match(/@[a-z-]+/)[0]){case"@media":case"@supports":case"@document":r++,s.push(p,c);break;case"@import":case"@charset":case"@namespace":s.push(v,c+";");break;default:r++;var o=w(e,a,"{","}");i({lastIndex:a+o.length}),s.push(p,c,v,o)}else s.push(x,m(n[1])),n=t.RULE_TAIL.exec(e),s.push(g,n[1]),i(t.RULE_TAIL)}else a=e.length}for(;a<e.length;)c();return s}(e=e.replace(d,""))}function b(e){return e.replace(new RegExp("@[a-z-]+[^{]+\\{\\s*\\}","gm"),"")}var R=/^([+-]?\d*)?n([+-]\d+)?$/;function k(e,n){return n==e.tagName||"*"==n}function T(e,n,t,r){r=r||"=";var a=e.attributes;if(a.has(n)){var s=a.get(n);switch(r){case"=":return null==t||t==s;case"*=":return-1!=s.indexOf(t);case"^=":return s.startsWith(t);case"$=":return s.endsWith(t);case"~=":return t==s||s.startsWith(t+" ")||s.endsWith(" "+t)||-1!=s.indexOf(" "+t+" ")}}return!1}function I(e,n){return e.classList.has(n)}function _(e,n){var t;if("odd"==n)t=e%2==1;else if("even"==n)t=e%2==0;else if(/^\d+$/.test(n))t=e==+n;else{var r=function(e){var n=R.exec(e);if(null!=n){var t=n[1],r=n[2];return[t=null==t||"+"==t?1:"-"==t?-1:+t,r=null==r?0:+r]}return[0,0]}(n);t=function(e,n,t){if(n<0&&e<=0)return!1;if(-1===e)return t<=n;if(0===e)return t===n;if(1===e)return n<0||t>=n;var r=n%e;return r<0&&(r+=e),e>1?t>=n&&t%e===r:(e*=-1,t<=n&&t%e===r)}(r[0],r[1],e)}return t}function A(e,n){return e.some(function(e){return function e(n,t){for(var r,a,s,i,c,o;t.idx>-1;){switch(n[t.idx]){case"_":r=n[--t.idx],o=k(t.node,r),t.idx--;break;case"#":a=n[--t.idx],o=T(t.node,"id",a,"="),t.idx--;break;case".":r=n[--t.idx],o=I(t.node,r),t.idx--;break;case"[":r=n[--t.idx],s=n[--t.idx],a=n[--t.idx],o=T(t.node,r,a,s),t.idx--;break;case":":r=n[--t.idx],a=n[--t.idx];var l=t.node,d=l.tagName;c=l.idx;var f=(i=l.parentNode)?i.childNodes.length:1,p=void 0;switch(r){case"not":o=!e(a,{node:t.node,idx:a.length-1});break;case"first-child":o=0==c;break;case"last-child":o=c==f-1;break;case"only-child":o=1==f;break;case"nth-child":o=_(c+1,a);break;case"nth-last-child":o=_(f-c,a);break;case"first-of-type":p=u(i,d),o=0==l._typeIdx;break;case"last-of-type":p=u(i,d),o=l._typeIdx==p.length-1;break;case"only-of-type":o=1==(p=u(i,d)).length;break;case"nth-of-type":p=u(i,d),o=_(l._typeIdx+1,a);break;case"nth-last-of-type":o=_((p=u(i,d)).length-l._typeIdx,a)}t.idx--;break;case" ":for(c=--t.idx,o=!1;!o&&null!=(i=t.node.parentNode);)t.idx=c,t.node=i,o=e(n,t);break;case">":t.idx--,null!=(i=t.node.parentNode)?(t.node=i,o=e(n,t)):o=!1;break;case"+":t.idx--,null!=(i=t.node.parentNode)&&t.node.idx>0?(t.node=i.childNodes[t.node.idx-1],o=e(n,t)):o=!1;break;case"~":if(t.idx--,o=!1,c=t.node.idx,null!=(i=t.node.parentNode)&&c>0)for(var h=0;h<c&&!o;h++)t.node=i.childNodes[h],o=e(n,t)}if(!o)break}return o}(n,{idx:n.length-1,node:e})})}var N=function(e,n){return A(e,Array.isArray(n)?n:function e(n){var t,r={IDENT:new RegExp("([\\w*-]+)","iy"),ATTR:new RegExp('([\\w-]+)(?:(.?=)"?([^\\]]*?)"?)?\\]',"iy"),PSEUDO:new RegExp("([\\w-]+)(\\()?","iy"),MODE:new RegExp("\\s*[:.#\\[]\\s*","iy"),COMB:new RegExp("\\s*[>~+]\\s*|\\s+","iy")},a=0,s=[],i=-1;function c(e){for(var n in a=e.lastIndex,r)r[n].lastIndex=a}function o(){var o=!1;if(t=r.COMB.exec(n)){o=!0;var u=t[0].trim();""==u&&(u=" "),s.push(u),c(r.COMB),i=a}else if(t=r.MODE.exec(n)){o=!0;var l=t[0].trim();if(c(r.MODE),":"==l){if("("==(t=r.PSEUDO.exec(n))[2]){var d=w(n,r.PSEUDO.lastIndex,"(",")");r.PSEUDO.lastIndex+=d.length+1,t[2]="not"==t[1]?e(d):d}s.splice(i+1,0,t[2],t[1],l),c(r.PSEUDO)}else"["==l?(t=r.ATTR.exec(n),s.splice(i+1,0,t[3],t[2],t[1],l),c(r.ATTR)):(t=r.IDENT.exec(n),s.push(t[1],l),c(r.IDENT))}else(t=r.IDENT.exec(n))&&(o=!0,s.push(t[1],"_"),c(r.IDENT));return o}for(;a<n.length;)o();return s}(n))},S=/\[([\w-]+)(?:(.?=)"?([^\]]*?)"?)?\]/i,L=/:(?:first|last|nth|only|not)\b/;function D(e,n,t,r,a){a=a||"";for(var s=n.length-1;s>-1;s--){var i=n[s];t.has(i[2])||!0!==r(a+i[2])||(c=e,o=i[0],u=i[1],l="",e=c.slice(0,o)+l+c.slice(o+u))}var c,o,u,l;return e}var O=function(e){return!0};return function(e){for(var n=l(e.html,!e.keepText),t=e.shouldDrop||O,r=y(e.css),a={},s=0;s<r.length;s++)if(r[s]===x){var i=r[s+1],c=i[i.length-1];s++;for(var o=0;o<c.length;o++){var u=c[o];e:for(var d=0;d<u.length;d++){var f=u[d],m=!1,E=void 0;if(""!=f){if(f in a)m=a[f];else switch(f[0]){case"#":E=f.substr(1),a[f]=m=n.attr.has("[id="+E+"]");break;case".":E=f.substr(1),a[f]=m=n.class.has(E);break;case"[":if(f.startsWith("[type="))a[f]=m=n.attr.has(f);else{var R=f.match(S);a[f]=m=n.nodes.some(function(e){return T(e,R[1],R[3],R[2])})}break;default:a[f]=m=n.tag.has(f)}if(!m){!0===t(i[o])?i[o]=null:a[i[o]]=!0;break e}}}}}for(var k=0;k<r.length;k++)r[k]===x&&(r[++k].length,r[k]=r[k].filter(function(e){if("string"==typeof e){if(e in a)return a[e];var r=(s=e).replace(new RegExp(":?:[a-z-]+","gm"),function(e){return s.startsWith("::")||!L.test(e)?"":e}).replace(new RegExp(":[a-z-]+\\(\\)","gm"),"");return""==r||(r in a?a[r]:a[r]=N(n.nodes,r)||!0!==t(e))}var s;return!1}));var I=function(e){for(var n="",t=0,r=0;r<e.length;r++)switch(e[r]){case x:var a=e[++r];(t=a.length)>0&&(n+=a.join());break;case g:t>0&&(n+="{"+e[++r]+"}");break;case p:n+=e[++r]+"{";break;case h:n+="}";break;case v:n+=e[++r]}return b(n)}(r);return{css:b(I=function(e,n){for(var t,r=[],a=new Set,s=new RegExp("@font-face[\\s\\S]+?font-family:\\s*(['\"\\w-]+)[^}]+\\}","gm");t=s.exec(e);){var i=t[1].replace(new RegExp("['\"]","gm"),"");r.push([t.index,t[0].length,i])}for(var c=new RegExp("font-family:([^;!}]+)","gm");t=c.exec(e);)r.some(function(e){return t.index>e[0]&&t.index<e[0]+e[1]})||t[1].trim().split(",").forEach(function(e){a.add(e.trim().replace(new RegExp("['\"]","gm"),""))});return D(e,r,a,n,"@font-face ")}(I=function(e,n){for(var t,r=[],a=new Set,s=new RegExp("@(?:-\\w+-)?keyframes\\s+([\\w-]+)\\s*\\{","gm");t=s.exec(e);){var i=w(e,s.lastIndex,"{","}");r.push([t.index,t[0].length+i.length+1,t[1]])}for(var c=new RegExp("animation(?:-name)?:([^;!}]+)","gm");t=c.exec(e);)t[1].trim().split(",").forEach(function(e){var n=(e=e.trim()).match(/^\S+/)[0];/^-?[\d.]+m?s/.test(n)&&(n=e.match(/\S+$/)[0]),a.add(n)});return D(e,r,a,n,"@keyframes ")}(I,t),t))}}});
